<!doctype html>
<html>

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Polymer WebApp</title>
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">
  <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->

  <!-- Conditionally load WC polyfills -->
  <!-- Thanks to https://github.com/geelen/x-gif for the snippet -->
  <script>
    if ('registerElement' in document
      && 'createShadowRoot' in HTMLElement.prototype
      && 'import' in document.createElement('link')
      && 'content' in document.createElement('template')) {
      // We're using a browser with native WC support!
    } else {
      document.write('<script src="bower_components/platform/platform.js"><\/script>');
    }
  </script>

  <!-- build:vulcanized elements/elements.critical.vulcanized.html -->
  <link rel="import" href="elements/elements.critical.html">
  <!-- endbuild-->
</head>

<body unresolved fullbleed layout vertical>
  <template id="app" is="auto-binding">

    <core-ajax url="https://polymer-contacts.firebaseio.com/contacts.json"           response="{{contacts}}"
               on-core-response="{{init}}"
               auto></core-ajax>

    <core-animated-pages id="pages" selected="{{selected}}"
                         transitions="cross-fade scale-up" flex>

      <section layout vertical>
        <contacts-page class="page" id="contacts" contacts="{{contacts}}" flex></contacts-page>
      </section>

      <section layout vertical>
        <info-page class="page" id="info" contacts="{{contacts}}"
                   scale-up?="{{selected === 1}}"
                   cross-fade?="{{selected !== 1}}" flex>
        </info-page>
      </section>

      <section layout vertical>
        <add-page class="page" id="add"
                  scale-up?="{{selected === 2}}"
                  cross-fade?="{{selected !== 2}}" flex>
        </add-page>
      </section>

    </core-animated-pages>

  </template>

  <!-- build:js scripts/app.js -->
  <script src="bower_components/director/build/director.js"></script>
  <script src="scripts/app.js"></script>
  <!-- endbuild-->
</body>

</html>
